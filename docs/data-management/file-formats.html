<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data &amp; File Types – Data Guidance for Researchers</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/black-logo.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-1896e83911af34675497f549448d848d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../docs/data-management/index.html">Data Management</a></li><li class="breadcrumb-item"><a href="../../docs/data-management/file-formats.html">Data &amp; File Types</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
  <div id="quarto-announcement" data-announcement-id="3869888e15fd0e7045ab22813f1b0779" class="alert alert-primary hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>NOTE</strong> - this site is still under development!</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../images/black-logomark-vertical.svg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Data Guidance for Researchers</a> 
        <div class="sidebar-tools-main">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/alexandra-thompson-dc/rff-data-gov-guidance">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/alexandra-thompson-dc/rff-data-gov-guidance/issues">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/foundations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Foundations</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/data-management/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Management</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/data-management/storage-options.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Storage Options</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/data-management/organization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/data-management/documentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Documentation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/data-management/file-formats.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Data &amp; File Types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/data-management/sensitive-proprietary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sensitive &amp; Proprietary Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/data-management/quality-preparation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quality &amp; Preparation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/data-management/archival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Archival &amp; Disposal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/data-management/publication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Publication</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/version-control/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Version Control</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/version-control/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/version-control/tutorial-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorial: Basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/version-control/tutorial-branching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorial: Branching</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/version-control/workflows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflows</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/version-control/faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tips and FAQ</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Software Quality</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../presentations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Presentations</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="1">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-types" id="toc-data-types" class="nav-link active" data-scroll-target="#data-types"><span class="header-section-number">1</span> Data types</a>
  <ul class="collapse">
  <li><a href="#general-data-types" id="toc-general-data-types" class="nav-link" data-scroll-target="#general-data-types"><span class="header-section-number">1.1</span> General data types</a></li>
  <li><a href="#notes-and-considerations" id="toc-notes-and-considerations" class="nav-link" data-scroll-target="#notes-and-considerations"><span class="header-section-number">1.2</span> Notes and considerations</a></li>
  </ul></li>
  <li><a href="#data-file-formats" id="toc-data-file-formats" class="nav-link" data-scroll-target="#data-file-formats"><span class="header-section-number">2</span> Data file formats</a>
  <ul class="collapse">
  <li><a href="#key-characteristics-of-data-file-formats" id="toc-key-characteristics-of-data-file-formats" class="nav-link" data-scroll-target="#key-characteristics-of-data-file-formats"><span class="header-section-number">2.1</span> Key characteristics of data file formats</a></li>
  <li><a href="#tabular-formats" id="toc-tabular-formats" class="nav-link" data-scroll-target="#tabular-formats"><span class="header-section-number">2.2</span> Tabular formats</a></li>
  <li><a href="#sec-hierarchical" id="toc-sec-hierarchical" class="nav-link" data-scroll-target="#sec-hierarchical"><span class="header-section-number">2.3</span> Hierarchical formats</a></li>
  <li><a href="#geospatial-file-formats" id="toc-geospatial-file-formats" class="nav-link" data-scroll-target="#geospatial-file-formats"><span class="header-section-number">2.4</span> Geospatial file formats</a></li>
  </ul></li>
  <li><a href="#figure-file-formats" id="toc-figure-file-formats" class="nav-link" data-scroll-target="#figure-file-formats"><span class="header-section-number">3</span> Figure file formats</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="header-section-number">4</span> Resources</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/alexandra-thompson-dc/rff-data-gov-guidance/edit/main/docs/data-management/file-formats.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/alexandra-thompson-dc/rff-data-gov-guidance/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../docs/data-management/index.html">Data Management</a></li><li class="breadcrumb-item"><a href="../../docs/data-management/file-formats.html">Data &amp; File Types</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Data &amp; File Types</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="data-types" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="data-types"><span class="header-section-number">1</span> Data types</h2>
<p>In coding environments and other software, data are classified into specific “types”, which determine how the values are interpreted and stored in memory. Recognizing the data types of variables in a dataset is essential for ensuring analytical accuracy, understanding precision, and avoiding errors during data processing.</p>
<section id="general-data-types" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="general-data-types"><span class="header-section-number">1.1</span> General data types</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 11%">
<col style="width: 19%">
<col style="width: 16%">
<col style="width: 18%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Data type</th>
<th>Definition</th>
<th>Typical memory</th>
<th>Precision</th>
<th>Common operations</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Character (string/text)</td>
<td>text or string values</td>
<td>~1 byte per character</td>
<td>Not applicable (stores characters, not numeric values)</td>
<td>Concatenation, substring, pattern matching</td>
<td><code>"Hello, world!"</code>,<br><code>'#23'</code>,<br><code>"'Why?', they asked."</code></td>
</tr>
<tr class="even">
<td>Integer</td>
<td>Whole numbers (no decimal point)</td>
<td>4 bytes (32-bit)</td>
<td>Exact for values within allowed range</td>
<td>Arithemtic, comparisons, indexing</td>
<td><code>0</code>, <code>42</code>, <code>-6</code>,<br><code>2e+30</code></td>
</tr>
<tr class="odd">
<td>Floating point</td>
<td>Numbers with decimals (real numbers, including fractions)</td>
<td>4 bytes (<em>float</em>), 8 bytes (<em>double</em>)</td>
<td>Approximate - may introduce small rounding errors</td>
<td>Arithmetic, scientific calculations</td>
<td><code>-54.3</code>,<br><code>3.14159</code></td>
</tr>
<tr class="even">
<td>Boolean / Logical</td>
<td>Binary values</td>
<td>Typically 1 byte</td>
<td>Exact</td>
<td>Logical operations (e.g., <code>AND</code>, <code>OR</code>, <code>NOT</code>)</td>
<td><code>TRUE</code>, <code>FALSE</code>,<br><code>0</code>, <code>1</code></td>
</tr>
<tr class="odd">
<td>Date/time</td>
<td>Calendar dates and/or clock times</td>
<td>Varies by system (~8+ bytes)</td>
<td>High precision in supported range</td>
<td>Often require specialized functions; format inconsistencies can cause import errors</td>
<td><code>2025-05-29</code>, <br><code>1990-01-24 14:30:00</code></td>
</tr>
</tbody>
</table>
</section>
<section id="notes-and-considerations" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="notes-and-considerations"><span class="header-section-number">1.2</span> Notes and considerations</h3>
<ul>
<li><p><strong>Floating point rounding errors</strong> Floating point types represent real numbers, including fractions. However, not all <em>decimal</em> values can be represented exactly in <em>binary</em>. As a result, small rounding errors may occur during arithmetic operations. These are usually minor but can accumulate in complex calculations. Example: <code>0.1 + 0.2</code> might result in <code>0.30000000000000004</code> due to binary representation limits.</p></li>
<li><p><strong>Date formats</strong></p>
<ul>
<li>Use the conventional ISO 8601 format (<code>YYYY-MM-DD</code>)</li>
<li>Ensure that date formats are consistent within columns and are correctly interpreted when converting to a standard format. For example, if a date is formatted as <code>DD/MM/YYYY</code> but is mistakenly interpreted as <code>MM/DD/YYYY</code> during conversion to <code>YYYY-MM-DD</code>, the resulting date will be incorrect.</li>
</ul></li>
<li><p><strong>Changing data types</strong> Changing a variable’s data type (e.g., from float to integer or from number to string) can alter how the data is stored and interpreted. Even if the displayed values seem the same (e.g., <code>5</code>, <code>5.0</code>, or <code>"5"</code>), the underlying representation differs—and in some cases (like converting from float to integer), it may result in loss of precision or information. Always check whether a conversion is appropriate for your analysis.</p>
<pre><code>float_value = 3.7
int_value = int(float_value)  # Becomes 3</code></pre></li>
<li><p><strong>Memory efficiency</strong> Choosing efficient data types can improve performance for large datasets. For example, storing whole numbers (like counts of people) as double-precision floats instead of integers can use more memory than necessary. While both floats and integers can be 4 or 8 bytes depending on the system, using types with more precision than needed (e.g., doubles for integers) can lead to unnecessary memory overhead.</p></li>
</ul>
</section>
</section>
<section id="data-file-formats" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="data-file-formats"><span class="header-section-number">2</span> Data file formats</h2>
<p>In general, data should be stored and/or archived in open formats. <strong>Open formats are non-proprietary</strong>, and therefore maximize accessibility because they have freely available specifications and generally do not require proprietary software to open them. The best file format to use will depend on the type and structure of data. <a href="https://emlab-ucsb.github.io/SOP/2.5-data-formats.html">The section on data formats</a> from the Standard Operating Procedures of emLab (at UC Santa Barbara) gives a few examples.</p>
<section id="key-characteristics-of-data-file-formats" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="key-characteristics-of-data-file-formats"><span class="header-section-number">2.1</span> Key characteristics of data file formats</h3>
<ul>
<li><p><strong>Proprietary vs.&nbsp;non-proprietary</strong>: Non-proprietary software formats can be easily imported and accessed using open-source software. This enhances their <strong>interoperability</strong>, or how easily a file format can be used across different software platforms and systems. Formats that are widely supported and compatible with various tools are generally more versatile.</p></li>
<li><p><strong>Tabular vs.&nbsp;hierarchical</strong>: Tabular data is organized into rows and columns, resembling a table, while hierarchical data is organized in a tree-like structure, with elements nested within others.</p></li>
<li><p><strong>Structured vs.&nbsp;unstructured</strong>: Structured data refers to data that is organized in a predefined format, typically in rows and columns, like databases or spreadsheets, which allows for easy search, analysis, and processing. Unstructured data, on the other hand, lacks a predefined format and is often textual or multimedia in nature, such as emails, social media posts, or video files. Semi-structured data has tags or markers but not a rigid structure.</p></li>
<li><p><strong>Retention of data types</strong>: Some file formats retain metadata about data types (e.g., whether a column is an integer or string), while others lose this information upon saving.</p></li>
</ul>
</section>
<section id="tabular-formats" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="tabular-formats"><span class="header-section-number">2.2</span> Tabular formats</h3>
<p><strong>Use open-source formats whenever possible.</strong>Plain text formats like CSV (.csv) are preferred for their transparency, interoperability, and long-term accessibility. Excel (<code>.xlsx</code>) and Stata (<code>.dta</code>) are <span style="color:red;">proprietary</span> and should generally be avoided—except when essential features (like Stata variable labels) are required.</p>
<p><strong>Choosing an open source format.</strong>The preferred open source format will depend on the project team’s preferences for accessibility, software, interoperability, need for computational efficiency, etc. The features of common formats are described below.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In cases where the native format of source data is in a proprietary software format, it is often necessary to use that software to view and edit data. For example, Stata dataset variables may have labels, a kind of embedded metadata that can only be accessed in Stata.</p>
</div>
</div>
<section id="characteristics-of-tabular-formats" class="level4">
<h4 class="anchored" data-anchor-id="characteristics-of-tabular-formats">Characteristics of tabular formats</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 15%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th>Format</th>
<th>Extensions</th>
<th>Open-source or proprietary</th>
<th>Retains data types</th>
<th>Level of structure</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Comma or tab-separated values</td>
<td>.csv, .tsv</td>
<td><span style="color:green;">Open-source</span></td>
<td>No</td>
<td>Structured</td>
</tr>
<tr class="even">
<td>Plain text</td>
<td>.txt</td>
<td><span style="color:green;">Open-source</span></td>
<td>No</td>
<td>Semi-structured</td>
</tr>
<tr class="odd">
<td>Microsoft Excel spreadsheet/workbook</td>
<td>.xls or .xlsx</td>
<td><span style="color:red;">Proprietary</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="even">
<td>Feather</td>
<td>.feather</td>
<td><span style="color:green;">Open-source</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="odd">
<td>Parquet</td>
<td>.parquet</td>
<td><span style="color:green;">Open-source</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="even">
<td>RData</td>
<td>.rdata or .rds</td>
<td><span style="color:green;">Open-source</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="odd">
<td>Lightning Fast Serialization of Data Frames</td>
<td>.fst</td>
<td><span style="color:green;">Open-source</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="even">
<td>SQLite</td>
<td>.sqlite, .db</td>
<td><span style="color:green;">Open-source</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="odd">
<td>Stata data file</td>
<td>.dta</td>
<td><span style="color:red;">Proprietary</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="even">
<td>SAS dataset</td>
<td>.sas7bdat</td>
<td><span style="color:red;">Proprietary</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="odd">
<td>Database File</td>
<td>.dbf</td>
<td><span style="color:green;">Open-source</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
</tbody>
</table>
</section>
<section id="descriptions-of-tabular-formats" class="level4">
<h4 class="anchored" data-anchor-id="descriptions-of-tabular-formats">Descriptions of tabular formats</h4>
<ul>
<li><p><strong>Text-based formats</strong> These formats are highly accessible and can be opened with common tools like Excel, Notepad, or any text editor, making them ideal for sharing <em>output/final</em> datasets. Text-based formats also work well with version control systems. However, be aware of their <a href="#textbasedissues">drawbacks and follow best practices</a>.</p>
<ul>
<li><p><strong>Comma-separated values (.csv)</strong> delimited text files widely used for data exchange and simple data storage. Each row contains the same number of values separated by commas.</p></li>
<li><p><strong>Tab-separated values (.tsv)</strong> files similar to CSV files but with values separated by tabs.</p></li>
<li><p><strong>Plain text (.txt)</strong> files which can contain unformatted or formatted (schema) text. Not recommended for storing complex datasets.</p></li>
</ul></li>
<li><p><strong>Excel spreadsheets/workbooks (.xls, .xlsx)</strong> are files designed for use with Microsoft Excel software. XLS is a binary file format compatible only with Excel, both older and newer versions. XLSX was developed more recently. It is XML-based, making it compatible with open-source software such Google Sheets as well as versions of Excel released since 2007. Generally <span style="color:red;">avoid</span> relying on these files for data storage due to complex formatting, data formats, formulas, etc. They also complicate quality assurance. XLS is not version-control friendly and XLSX requires special version-control techniques because it is stored in a compressed state. Excel spreadsheets can easily be exported to CSV files.</p></li>
<li><p><strong>Common data science formats</strong> These formats are well suited for working with data during analysis and collaboration (e.g., intermediate data), because they retain metadata (e.g., data types) and are optimized for reading and writing. They are <strong>more computationally efficient</strong> in terms of input/output speed and file size, but often less suited to version control than text-based formats.</p>
<ul>
<li><p><strong>Feather (.feather)</strong> a fast, lightweight binary columnar data format used for data exchange between data analysis languages like R and Python. Optimized for performance and efficiency, especially when working with large tables of data. Faster than Parquet at in-memory work, reading, and writing.</p></li>
<li><p><strong>Parquet (.parquet)</strong> a binary columnar data format designed for efficient storage and processing of large datasets. Supports compression and is optimized for performance across data tools like R, Python, and SQL engines. Better file size efficiency than Feather.</p></li>
<li><p><strong>RData (.rds, .rdata)</strong> files used to store one R object (<code>.rds</code>) or an R environment with several objects (<code>.rdata</code>). Useful if working within an R project for efficiency and organization features, but providing limited interoperability.</p></li>
<li><p><strong>Lightning Fast Serialization of Data Frames (.fst)</strong> a fast, compressed, columnar binary format designed specifically for R, optimized for high-speed reading and writing of large data frames. Ideal for efficient storage and selective column access in R workflows, but not designed for cross-language interoperability.</p></li>
<li><p><strong>SQLite (.sqlite, .db)</strong> files used by the SQLite relational database engine, which supports SQL queries and transactions and is used for lightweight, portable databases.</p></li>
<li><p><strong>Stata data file (.dta)</strong> binary files created by the statistical analysis software Stata. Note that they sometimes include metadata (e.g., variable labels) that isn’t automatically loaded when importing into other software (e.g.&nbsp;R using the haven package).</p></li>
<li><p><strong>SAS Dataset (.sas7bdat)</strong> the proprietary file format used by SAS for storing datasets. It supports metadata and variable attributes. Datasets should be converted to open-source formats after processing.</p></li>
<li><p><strong>Database File (.dbf)</strong> files used by dBASE and other database systems to store tabular data. They support a fixed schema and metadata. DBF files cannot store full precision. Avoid creating this type of file.</p></li>
</ul></li>
</ul>
</section>
<section id="textbasedissues" class="level4">
<h4 class="anchored" data-anchor-id="textbasedissues">Working with text-based file formats</h4>
<section id="limitations-of-text-based-formats" class="level5">
<h5 class="anchored" data-anchor-id="limitations-of-text-based-formats">Limitations of text-based formats</h5>
<p>Text-based formats like CSVs <strong>do not store data type metadata.</strong></p>
<p><strong>Be cautious</strong> when reading and writing CSVs or other plain-text formats. Understand that <strong>data types will be inferred</strong>, not preserved, and this may introduce rounding or formatting errors. <em>All values are saved as <strong>character strings</strong> in text-based file formats</em> — there is no embedded information about whether something is an integer, float, etc.</p>
<p>This has several implications:</p>
<ul>
<li><strong>Type guessing on import</strong> When reading a CSV, software tools typically infer column types automatically. This can result in:
<ul>
<li>Inconsistent interpretation across tools (e.g., a column read as numeric in one program might be read as text in another).</li>
<li>Conversion errors, especially with dates, floating points, or missing values. <br> <br></li>
</ul></li>
<li><strong>Precision loss on export</strong> If you’re exporting a floating point column to CSV, the software may:
<ul>
<li>Round or truncate values.</li>
<li>Drop trailing digits or use limited decimal precision.</li>
<li>These changes might not be obvious but can affect downstream calculations. <br> <br></li>
</ul></li>
<li><strong>No built-in support for special types</strong> Since all values are strings, CSV files cannot inherently distinguish between:
<ul>
<li><code>3</code> as an integer vs.&nbsp;<code>3.0</code> as a float</li>
<li><code>2023-01-01</code> as a string vs.&nbsp;a date object</li>
<li><code>TRUE</code> as a logical value vs.&nbsp;a text label</li>
</ul></li>
</ul>
</section>
<section id="practices-for-working-with-text-based-formats" class="level5">
<h5 class="anchored" data-anchor-id="practices-for-working-with-text-based-formats">Practices for working with text-based formats</h5>
<ul>
<li>Reading/importing text-based data
<ul>
<li>Explicitly <strong>specify</strong> column types when importing data (e.g., using <code>read_csv(..., col_types=...)</code> in <code>R</code> or <code>dtype=...</code> in <code>python pandas</code>). Another strategy is to specify all column types as character (<code>col_types = 'character</code>), view how they are stored, and then decides which columns to convert and how.</li>
<li><strong>Validate</strong> types after import, either by manually inspecting or using scripted tests. <br> <br></li>
</ul></li>
<li>Exporting/sharing text-based data
<ul>
<li>Use text-based formats <strong>only when useful</strong>, such as when publishing / sharing data with those without specialized software, or when version-controlling data.</li>
<li>Use formats that preserve numeric precision (e.g., binary formats like <code>.rds</code>, <code>.feather</code>, <code>.parquet</code>) during analysis.</li>
<li>Clearly <strong>document</strong> data types in metadata or a readme when sharing text-based formats.</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="sec-hierarchical" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="sec-hierarchical"><span class="header-section-number">2.3</span> Hierarchical formats</h3>
<p>Hierarchical data formats are best suited for storing and exchanging complex, nested data structures with parent-child relationships, such as configurations, scientific datasets, or web APIs, where flexibility and the ability to represent variable levels of detail are essential.</p>
<section id="characteristics-of-hierarchical-formats" class="level4">
<h4 class="anchored" data-anchor-id="characteristics-of-hierarchical-formats">Characteristics of hierarchical formats</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 19%">
<col style="width: 17%">
<col style="width: 23%">
<col style="width: 19%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Format</th>
<th>Extensions</th>
<th>Open-source or proprietary</th>
<th>Retains data types</th>
<th>Level of structure</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Hierarchical Data Format version 5 (HDF5)</td>
<td>.h5, .hdf5</td>
<td><span style="color:green;">Open-source</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="even">
<td>Network Common Data Form (NetCDF)</td>
<td>.nc</td>
<td><span style="color:green;">Open-source</span></td>
<td>Yes</td>
<td>Structured</td>
</tr>
<tr class="odd">
<td>JavaScript Object Notation</td>
<td>.json</td>
<td><span style="color:green;">Open-source</span></td>
<td>No</td>
<td>Semi-structured</td>
</tr>
<tr class="even">
<td>e<em>X</em>tensible Markup Language</td>
<td>.xml</td>
<td><span style="color:green;">Open-source</span></td>
<td>No</td>
<td>Semi-structured</td>
</tr>
<tr class="odd">
<td>YAML</td>
<td>.yml or .yaml</td>
<td><span style="color:green;">Open-source</span></td>
<td>No</td>
<td>Unstructured</td>
</tr>
</tbody>
</table>
</section>
<section id="descriptions-of-hierarchical-formats" class="level4">
<h4 class="anchored" data-anchor-id="descriptions-of-hierarchical-formats">Descriptions of hierarchical formats:</h4>
<ul>
<li><p><strong>Hierarchical Data Format version 5 (.hdf5, .h5)</strong>, commonly called <strong>HDF5</strong>, files for storing complex and hierarchical datasets, supporting large data volumes and complex data structures.</p></li>
<li><p><strong>Network Common Data Form (.nc)</strong>, commonly called <strong>NetCDF</strong>, files designed for array-oriented scientific data. They work especially well for multi-dimensional data like time-series and spatial data.</p></li>
<li><p><strong>JavaScript Object Notation (.json)</strong>, text-based files used for storing structured data. Often used to transfer data between a server and a web application, as well as when sending and receiving data via an API.</p></li>
<li><p><strong>e<em>X</em>tensible Markup Language (.xml)</strong>, files organizing data hierarchically with customizable tags, making them both machine-readable and human-readable. XML is widely used in web services, data exchange, and configuration files.</p></li>
<li><p><strong>YAML (.yaml or .yml)</strong>, human-readable files using a data serialization format well suited for configuration files and data exchange. It uses indentation to define structure and supports key-value pairs, lists, and nested data, making it simpler and more concise compared to XML or JSON. “YAML” is a recursive acronym: YAML Ain’t Markup Language.</p></li>
</ul>
</section>
</section>
<section id="geospatial-file-formats" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="geospatial-file-formats"><span class="header-section-number">2.4</span> Geospatial file formats</h3>
<p>Geospatial data are stored as either vector data or raster data. The format of input spatial data typically dictates which geospatial tools can be applied to it.</p>
<section id="vector-data" class="level4">
<h4 class="anchored" data-anchor-id="vector-data">Vector data</h4>
<p><img src="../../images/vector-data.png" class="img-fluid"></p>
<p>Vector data is stored as pairs of coordinates. Points, lines, and polygons are all vector data.</p>
<p><strong><em>Recommended</em></strong> <span style="color:green;">open-source</span> vector file formats:</p>
<ul>
<li><a href="https://www.geopackage.org/">Geopackage</a> (.gpkg, <strong>recommended</strong> for its <a href="http://switchfromshapefile.org/">advantages</a> over the shapefile format)</li>
<li>Keyhole markup language (e.g., <code>.kml</code>, <code>.kmz</code>)</li>
<li>GeoJSON (e.g., <code>.json</code>, <code>.geojson</code>)</li>
<li>Tables with coordinates (e.g., <code>.csv</code>)</li>
</ul>
<p>Common <span style="color:red;">proprietary</span> vector file formats:</p>
<ul>
<li>Shapefiles (.shp)</li>
<li>Feature classes in geodatabases (.gdb)</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>A shapefile is actually a collection of several files, including geometry (<code>.shp</code>), projection information (<code>.prj</code>), tabular data (<code>.dbf</code>), and more. Make sure to store all component files together within the same folder.</p>
</div>
</div>
<p>All vector data files should have three critical metadata components:</p>
<ul>
<li>Coordinate reference system</li>
<li>Extent: the geographic area covered by the data, represented by four coordinate pairs</li>
<li>Object type: whether the data consists of points, lines, or polygons</li>
</ul>
</section>
<section id="raster-data" class="level4">
<h4 class="anchored" data-anchor-id="raster-data">Raster data</h4>
<p><img src="../../images/raster-data-1.png" class="img-fluid"> <img src="../../images/raster-data-2.png" class="img-fluid"></p>
<p>Raster data formats store values across a regular grid containing cells of equal size, with each cell containing a value. A raster is similar to a pixelated image, except that it’s accompanied by information linking it to a particular geographic location. All cell values within a single raster variable are of the same scalar data type (integer, float, string, etc.). Common examples of raster data are elevation, land cover, and satellite imagery.</p>
<p>The <strong><em>recommended</em></strong> general purpose raster file format is <strong>GeoTIFF (.tif)</strong>, as it supports multiple bands, retention of spatial reference metadata, large file sizes, high compression, and use in a variety of languages/software. Other formats may work better for specific use cases. All of the following common formats are <span style="color:green;">open-source</span>:</p>
<ul>
<li><strong>GeoTIFF (.tif)</strong>, the most widely used format for raster data</li>
<li><strong>ASCII grid (.asc)</strong>, plain-text-based files for elevation models and basic raster grids</li>
<li><strong>NetCDF (.nc) and HDF5 (.hdf5, .h5)</strong>, both described in <a href="#sec-hierarchical" class="quarto-xref">Section&nbsp;2.3</a></li>
</ul>
<p>Avoid saving rasters as <span style="color:red;">proprietary</span> software file formats, including ESRI grid/tile and ERDAS Imagine (.img) files.</p>
<p>All raster files should have five critical metadata components:</p>
<ul>
<li>Coordinate reference system</li>
<li>Extent: how large the raster is, often represented by the number of rows and columns</li>
<li>Origin point: a pair of coordinates pinpointing the bottom left corner of the image</li>
<li>Resolution: cell size</li>
<li>No data value: the value that represents when a cell’s data value is missing</li>
</ul>
</section>
</section>
</section>
<section id="figure-file-formats" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="figure-file-formats"><span class="header-section-number">3</span> Figure file formats</h2>
<p>It is helpful to think ahead when generating and saving data visualizations and plots. Academic journals often accept <code>TIFF</code> and <code>PNG</code> formats, but they frequently have resolution and dimension requirements. Export figures with a minimum resolution of 300 dots per inch (DPI).</p>
<p>For RFF communications, however, vector formats are best because they can be easily modified as needed. These include:</p>
<ul>
<li>Scalable Vector Graphics (<code>.svg</code>)</li>
<li>Encapsulated PostScript (<code>.eps</code>)</li>
</ul>
<p>Consider that you may want to be able to share the underlying data with the RFF Communications team so that they and their external design partners can create custom figures for presentation on the website, in the magazine, etc. This means clearly documenting the processing code that created the underlying data / figures, so that output data can be easily reproduced and shared as needed. If figure data is time-consuming to reproduce, you may want to save a copy of it to the L:/ drive or to your GitHub repository.</p>
<p>For more information on figure (and table) style guidelines, refer to <a href="https://my.rff.org/communications/resources-for-the-future-style-guide/">the RFF Style Guide</a>.</p>
<blockquote class="blockquote">
<p>“Sharing the underlying data of any maps and figures is always helpful for the Communications Team!”</p>
<p>– <cite>Elizabeth Wason (Editorial Director, RFF)</cite></p>
</blockquote>
</section>
<section id="resources" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="resources"><span class="header-section-number">4</span> Resources</h2>
<ul>
<li>R-focused:
<ul>
<li><a href="https://r4ds.hadley.nz/data-import.html">R for Data Science: Data import</a></li>
<li><a href="https://r4ds.hadley.nz/transform">R for Data Science: Transforming data types</a></li>
</ul></li>
<li>Python-focused:
<ul>
<li><a href="https://swcarpentry.github.io/python-novice-gapminder/03-types-conversion.html">Software Carpentry: Data types and type conversion</a></li>
<li><a href="https://pandas.pydata.org/docs/user_guide/io.html">pandas.pydata.org: Data file formats and input/output tools</a></li>
</ul></li>
<li>Spatial data types
<ul>
<li><a href="https://datacarpentry.org/organization-geospatial/index.html">Introduction to Geospatial Concepts: Summary and Setup (datacarpentry.org)</a></li>
<li><a href="https://my.rff.org/it/computer-lab/">RFF GIS Training</a>.</li>
</ul></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/alexandra-thompson-dc\.github\.io\/rff-data-gov-guidance\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/alexandra-thompson-dc/rff-data-gov-guidance/edit/main/docs/data-management/file-formats.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/alexandra-thompson-dc/rff-data-gov-guidance/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>